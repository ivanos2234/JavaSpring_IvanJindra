<!DOCTYPE html>
<html lang="sk" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <title>Employee Directory</title>
    <style>
        body {
            padding-top: 20px;
            background-color: #f8f9fa;
        }
        .header {
            margin-bottom: 20px;
        }
        .add-button {
            margin-bottom: 15px;
        }
        table.table-hover tbody tr:hover {
            background-color: #e9ecef;
        }
        .table-shadow {
            box-shadow: 0 0.25rem 0.5rem rgba(0,0,0,0.1);
            border-radius: 0.5rem;
        }
        .badge-fulltime {
            font-size: 0.9em;
        }
        .btn-group .btn {
            margin-right: 5px;
        }
    </style>
</head>

<body>
<div class="container py-4">

    <div class="header d-flex justify-content-between align-items-center">
        <h2>Employee Directory</h2>
        <a th:href="@{/employees/new}" class="btn btn-primary btn-sm">Add Employee</a>
    </div>

    <table class="table table-striped table-hover table-shadow">
        <thead class="table-dark">
        <tr>
            <th>ID</th>
            <th>Full Name</th>
            <th>Birth Date</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Job Title</th>
            <th>Salary (â‚¬)</th>
            <th>Full Time</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="emp : ${employees}">
            <td th:text="${emp.id}"></td>
            <td th:text="${emp.firstName + ' ' + emp.lastName}"></td>
            <td th:text="${#temporals.format(emp.birthDate, 'dd. MM. yyyy')}"></td>
            <td><a th:href="'mailto:' + ${emp.email}" th:text="${emp.email}"></a></td>
            <td th:text="${emp.phone}"></td>
            <td th:text="${emp.jobTitle}"></td>
            <td th:text="${emp.salary > 0 ? emp.salary : 'N/A'}"
                th:classappend="${emp.salary <= 0} ? 'text-danger fw-bold' : ''"></td>
            <td>
                <span th:if="${emp.fullTime == 0}" class="badge bg-warning text-dark badge-fulltime">Part-Time</span>
                <span th:if="${emp.fullTime == 1}" class="badge bg-success badge-fulltime">Full-Time</span>
                <span th:if="${emp.fullTime == 2}" class="badge bg-info text-dark badge-fulltime">Contract</span>
                <span th:if="${emp.fullTime == 3}" class="badge bg-secondary badge-fulltime">Intern</span>
            </td>
            <td>
                <div class="btn-group" role="group">
                    <form th:action="@{'/employees/' + ${emp.id}}" method="get">
                        <button type="submit" class="btn btn-info btn-sm" title="View">
                            <i class="fas fa-eye"></i>
                        </button>
                    </form>
                    <form th:action="@{'/employees/' + ${emp.id} + '/edit'}" method="get">
                        <button type="submit" class="btn btn-warning btn-sm" title="Edit">
                            <i class="fas fa-edit"></i>
                        </button>
                    </form>
                    <form th:action="@{'/employees/' + ${emp.id}}" method="post">
                        <input type="hidden" name="_method" value="delete"/>
                        <button type="submit" class="btn btn-danger btn-sm" title="Delete"
                                onclick="return confirm('Are you sure you want to delete this employee?');">
                            <i class="fas fa-trash"></i>
                        </button>
                    </form>
                </div>
            </td>
        </tr>
        </tbody>
    </table>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js"></script>
</body>
</html>
